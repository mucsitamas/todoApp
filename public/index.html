<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>VUE TodoApp</title>
	<script src="https://unpkg.com/vue/dist/vue.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/vue-resource@1.5.1"></script>
	<link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet" />
	<style>
		#container {
			margin: 0 auto;
			max-width: 400px;
			border: 1px solid #3f3f3f;
			overflow: hidden;
		}

		.task.active {
			transition: 0.5s;
			margin-left: -10% !important;
		}

		.task {
			transition: 0.5s;
			overflow: hidden;
			line-height: 2em;
			display: table;
			width: 110%;
			border-top: 1px solid #5f5f5f;
		}

		.title {
			width: 100%;
			padding-left: 1em;
			display: table-cell;
			color: #3f3f3f;
		}

		.context {
			width: 10%;
			background-color: #d83e2b;
			color: #fff;
			padding-left: 0.5em;
			padding-right: 0.5em;
			text-align: center;
			display: table-cell;
		}
	</style>
</head>

<body>
	<div id="container">
		<input type="text" placeholder="Add new task" v-model="taskName" />
		<button @click="addTask()">Add</button>
		<div id="tasks">
			<div v-for="(task, index) in tasks" v-bind:class="{ active : isActive(index), task: true}">
				<div class="title" @click="select(index)">{{ task }}</div>
				<div class="context" @click="removeTask(index)"><i class="fas fa-trash-alt"></i></div>
			</div>
		</div>
	</div>
	<script>
		new Vue({
			el: '#container',
			data: {
				selected: -1,
				taskName: '',
				tasks: [
					'Learn Vue.js',
					'Stretch',
					'Play WOW'
				],
			},
			methods: {
				select: function (index) {
					if (this.isActive(index)) {
						this.selected = -1;
					} else {
						this.selected = index;
					}
				},
				addTask: function () {
					if (this.taskName !== '') {
						this.tasks.push(this.taskName);
						this.taskName = '';
					}
				},
				isActive: function (index) {
					return this.selected === index;
				},
				removeTask: function (index) {
					this.tasks.splice(index, 1);
					this.selected = -1;
				}
			}
		});
	</script>
</body>

</html>